@{ ViewData["Title"] = "Berlin Religion Data Tool"; var filterType = "DataPoints"; }

<div id="content" class="">

    <div class="CategoryBar" style="background-color: lightblue;">
        <span>
            <button id="participants" onclick=showParticipants()>Teilnehmer</button>
            <button id="subventions" onclick=showSubventions()>Subventionen</button>
            <button id="partsub" onclick=showPartSub()>Teilnehmer-Subventionen Vergleich</button>
        </span>
    </div>

    <div id="chartContainer" style=" height: 370px; width: 100%;"></div>


</div>

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

<script>
    window.onload = showSubventions();

    function showSubventions() {

        switch (year) {
            case 2011:
                var subventions = ViewBag.Subventions2011;
                break;
            case 2012:
                var subventions = ViewBag.Subventions2012;
                break;
            case 2013:
                var subventions = ViewBag.Subventions2013;
                break;
            case 2014:
                var subventions = ViewBag.Subventions2014;
                break;
            case 2015:
                var subventions = ViewBag.Subventions2015;
                break;
            case 2016:
                var subventions = ViewBag.Subventions2016;
                break;

        }

        var chart = new CanvasJS.Chart("chartContainer", {
            animationEnabled: true,
            theme: "light2",
            toolTip: {
                enabled: true,
                animationEnabled: true
            },
            title: {
                text: "Subventions in 2011",
                margin: 25,
                fontSize: 18
            },
            axisY: {
                title: "Subventions",
                includeZero: false,
                maximum: 1000000
            },
            axisX: {
                labelFontSize: 9
            },
            data: [{
                type: "column",
                dataPoints: @Html.Raw(subventions)
            }]
        });

        chart.render();
    }

    function showParticipants() {

        var chart = new CanvasJS.Chart("chartContainer", {
            animationEnabled: true,
            theme: "light2",
            title: {
                text: "Teilnehmer",
                margin: 25,
                fontSize: 18
            },
            axisY: {
                title: "Participants",
                margin: 25,
                titleFontSize: 18
            },
            toolTip: {
                shared: true
            },
            data: [{
                type: "line",
                name: "Evangelischer Religionsunterricht",
                showInLegend: true,
                dataPoints: @Html.Raw(ViewBag.ParticipantsEvan)
            }, {
                type: "line",
                name: "Katholischer Religionsunterricht",
                showInLegend: true,
                dataPoints: @Html.Raw(ViewBag.ParticipantsKath)
            }, {
                type: "line",
                name: "Humanistischer Lebenskundeunterricht",
                showInLegend: true,
                dataPoints: @Html.Raw(ViewBag.ParticipantsHuman)
            }]
        });

        chart.render();
    }

    function showPartSub() {

        var chart = new CanvasJS.Chart("chartContainer", {
            animationEnabled: true,
            theme: "light2",
            toolTip: {
                enabled: true,
                animationEnabled: true
            },
            title: {
                text: "Teilnehmer-Subventionen Vergleich",
                margin: 25,
                fontSize: 18
            },
            axisY: {
                title: "Subventions",
                includeZero: false,
                maximum: 1000000
            },
            axisX: {
                labelFontSize: 9
            },
            data: [{
                    type: "column",
                    dataPoints: @Html.Raw(ViewBag.Subventions2011)
                }
                //, {
                //     type: "line",
                //     name: "participants",
                //     axisYIndex: 1,
                //     dataPoints: @Html.Raw(ViewBag.ParticipantsEvan2011)
                //}
            ]
        });

        chart.render();
    }
</script>